## 起因

使用`hexo`+`github`搭建了一个静态博客，[杨的个人博客 (yanglinqi107.github.io)](https://yanglinqi107.github.io/) ，用于记笔记和分享。

在本地使用的工具是`Typora`，markdown对图片是弱引用，一般在本地都要使用文件夹来保存图片。分享引用了图片的markdown文件也要附带上文件夹，比较麻烦。

`hexo`支持上传的md文件附带一个同名的保存图片的文件夹。保证了上传的博文也能够显示文件，但这样也有问题：

- 当写的博文逐渐增加，图片增加，每回上传更新博客的时候，图片上传要花的时间比较长，访问github的速度本来就慢，上传这么大的数据很容易失败
- 执行`hexo g`命令耗时较长
- 如果本地博客目录下有20个md文件，可能还要20个文件夹，这样管理起来也很麻烦。如下图

![image-20220517201208638](D:/MLZ107/Pictures/Typora-Images/image-20220517201208638.png)



## Github图床

个人笔记图床：

参考链接：

[PicGo+jsDelivr+GitHub搭建免费 CDN 加速图床 (baidu.com)](https://baijiahao.baidu.com/s?id=1712840941546413258&wfr=spider&for=pc) 

[Typora+Github + Picgo打造个人云笔记_iheal的博客-CSDN博客](https://blog.csdn.net/qq_61313949/article/details/124511276)

遇到的问题：

1、图片上传失败：

因为访问github网站比较网，我电脑下载了Github加速器FastGithub，打开该软件的时候，图片上传失败

2、图片无法访问：

图片上传成功后，PicGo相册页面不显示，图片也不能访问

- 仓库需设为公开，如果设的私有就在setting中修改，重新上传图片
- 如果不是仓库问题，就把PicGo卸载重装，重新上传图片

3、若：文件-》偏好设置-》图像-》插入图片时 选择**上传图片**

- 剪切板的图片直接贴入Typora会自动上传云端，但还会在本地`C:\Users\xxx\AppData\Roaming\Typora\typora-user-images`保存图片
- 而对先保存本地，再贴入Typora的图片不会再在C盘保存

4、若：文件-》偏好设置-》图像-》插入图片时  勾上了**对网络位置的图片应用上述规则**

- 对图床内的图片的引用会导致图片重复上传

5、想要对之前本地的图片全部上传，在菜单栏

- 格式-》图像-》上传所有本地图像



**小结**：

因为我原先的图片都在本地，且以及写了很多md文件，本地以及累积了几千张图片，然后要批量上传至github。使用Typora的**上传所有本地图片**，遇到了好多情况：

1. 上传成功。当前md文件的图片引用也自动换成了图片url
2. 上传失败。上传的文件有重名或和已经上传至仓库的文件**重名**。办法：在PicGo中打开**时间戳重命名**
3. 先报上传失败，再报上传成功，本地md文件没变，但图片确实上传了。这个很烦人，我没找到解决办法
4. 上传成功，本地也能显示。但过一会全部加载图片失败

对于上面的问题，我卸载重装了好几个版本的PicGo，也试过PicGo-Core(command line)，甚至一张张上传图片，但还是会有问题。最后即使上传成功，访问图片还是容易失败。最后放弃Github了，开始尝试Gitee。



## Gitee图床

[PicGo + gitee 免费搭建个人图床工具_小云很优秀的博客-CSDN博客_picgo插件](https://blog.csdn.net/fine_ning/article/details/106652528)